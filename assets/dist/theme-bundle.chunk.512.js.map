{"version":3,"file":"theme-bundle.chunk.512.js","mappings":"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","sources":["webpack://Roots/./assets/js/theme/product/video-gallery.js","webpack://Roots/./assets/js/theme/product.js","webpack://Roots/./assets/js/theme/roots/product.js"],"sourcesContent":["export class VideoGallery {\n    constructor($element) {\n        this.$player = $element.find('[data-video-player]');\n        this.$videos = $element.find('[data-video-item]');\n        this.currentVideo = {};\n        this.bindEvents();\n    }\n\n    selectNewVideo(e) {\n        e.preventDefault();\n\n        const $target = $(e.currentTarget);\n\n        this.currentVideo = {\n            id: $target.data('videoId'),\n            $selectedThumb: $target,\n        };\n\n        this.setMainVideo();\n        this.setActiveThumb();\n    }\n\n    setMainVideo() {\n        this.$player.attr('src', `//www.youtube.com/embed/${this.currentVideo.id}`);\n    }\n\n    setActiveThumb() {\n        this.$videos.removeClass('is-active');\n        this.currentVideo.$selectedThumb.addClass('is-active');\n    }\n\n    bindEvents() {\n        this.$videos.on('click', this.selectNewVideo.bind(this));\n    }\n}\n\nexport default function videoGallery() {\n    const pluginKey = 'video-gallery';\n    const $videoGallery = $(`[data-${pluginKey}]`);\n\n    $videoGallery.each((index, element) => {\n        const $el = $(element);\n        const isInitialized = $el.data(pluginKey) instanceof VideoGallery;\n\n        if (isInitialized) {\n            return;\n        }\n\n        $el.data(pluginKey, new VideoGallery($el));\n    });\n}\n","/*\n Import all product specific js\n */\nimport PageManager from './page-manager';\nimport Review from './product/reviews';\nimport collapsibleFactory from './common/collapsible';\nimport ProductDetails from './common/product-details';\nimport videoGallery from './product/video-gallery';\nimport rootsLoaded from './roots/product';\nimport { classifyForm } from './common/utils/form-utils';\nimport modalFactory from './global/modal';\n\nexport default class Product extends PageManager {\n    constructor(context) {\n        super(context);\n        this.url = window.location.href;\n        this.$reviewLink = $('[data-reveal-id=\"modal-review-form\"]');\n        this.$bulkPricingLink = $('[data-reveal-id=\"modal-bulk-pricing\"]');\n        this.reviewModal = modalFactory('#modal-review-form')[0];\n    }\n\n    onReady() {\n        // Listen for foundation modal close events to sanitize URL after review.\n        $(document).on('close.fndtn.reveal', () => {\n            if (this.url.indexOf('#write_review') !== -1 && typeof window.history.replaceState === 'function') {\n                window.history.replaceState(null, document.title, window.location.pathname);\n            }\n        });\n\n        let validator;\n\n        // Init collapsible\n        collapsibleFactory();\n\n        this.productDetails = new ProductDetails($('.productView'), this.context, window.BCData.product_attributes);\n        this.productDetails.setProductVariant();\n\n        videoGallery();\n\n        this.bulkPricingHandler();\n\n        const $reviewForm = classifyForm('.writeReview-form');\n\n        if ($reviewForm.length === 0) return;\n\n        const review = new Review({ $reviewForm });\n\n        $('body').on('click', '[data-reveal-id=\"modal-review-form\"]', () => {\n            validator = review.registerValidation(this.context);\n            this.ariaDescribeReviewInputs($reviewForm);\n        });\n\n        $reviewForm.on('submit', () => {\n            if (validator) {\n                validator.performCheck();\n                return validator.areAll('valid');\n            }\n\n            return false;\n        });\n        rootsLoaded();\n\n        this.productReviewHandler();\n    }\n\n    ariaDescribeReviewInputs($form) {\n        $form.find('[data-input]').each((_, input) => {\n            const $input = $(input);\n            const msgSpanId = `${$input.attr('name')}-msg`;\n\n            $input.siblings('span').attr('id', msgSpanId);\n            $input.attr('aria-describedby', msgSpanId);\n        });\n    }\n\n    productReviewHandler() {\n        if (this.url.indexOf('#write_review') !== -1) {\n            this.$reviewLink.trigger('click');\n        }\n    }\n\n    bulkPricingHandler() {\n        if (this.url.indexOf('#bulk_pricing') !== -1) {\n            this.$bulkPricingLink.trigger('click');\n        }\n    }\n}\n","import $ from 'jquery';\n\nexport default function loaded() {\n    if ($('#tab-specifications').text().trim() !== '') {\n        $('.tab-heading--specs').show();\n    }\n\n    $('#form-action-addToCart').on('click', () => {\n        const formTop = $('.productView-options form').offset().top;\n        const headerHeight = $('.header').height();\n        $(window).scrollTop(formTop - headerHeight);\n    });\n}\n"],"names":["VideoGallery","$element","this","$player","find","$videos","currentVideo","bindEvents","_proto","prototype","selectNewVideo","e","preventDefault","$target","$","currentTarget","id","data","$selectedThumb","setMainVideo","setActiveThumb","attr","removeClass","addClass","on","bind","Product","_PageManager","context","_this","call","url","window","location","href","$reviewLink","$bulkPricingLink","reviewModal","modalFactory","onReady","validator","pluginKey","_this2","document","indexOf","history","replaceState","title","pathname","collapsibleFactory","productDetails","ProductDetails","BCData","product_attributes","setProductVariant","each","index","element","$el","bulkPricingHandler","$reviewForm","classifyForm","length","review","Review","registerValidation","ariaDescribeReviewInputs","performCheck","areAll","text","trim","show","formTop","offset","top","headerHeight","height","scrollTop","productReviewHandler","$form","_","input","$input","msgSpanId","siblings","trigger","PageManager"],"sourceRoot":""}